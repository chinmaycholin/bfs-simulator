<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BFS Simulator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="container">
    <header>
      <div class="badge">Algorithm Visualizer</div>
      <h1>BFS Simulator</h1>
      <p>Build a graph, pick your start (and optional goal) node, then watch Breadth-First Search unfold step by step.
      </p>
    </header>

    <div class="main-grid">

      <!-- LEFT: Controls -->
      <div style="display:flex;flex-direction:column;gap:16px;">
        <div class="card">

          <div class="card-title">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <circle cx="12" cy="12" r="3" />
              <path d="M12 3v2m0 14v2M3 12h2m14 0h2" />
            </svg>
            Graph Setup
          </div>

          <div class="form-group">
            <label for="num-nodes">Number of Nodes</label>
            <input type="number" id="num-nodes" min="2" max="20" value="5" placeholder="e.g. 5" />
            <p class="input-hint">Nodes are auto-labelled 0, 1, 2 ‚Ä¶ n-1</p>
          </div>

          <div class="form-group">
            <label>Add Edge</label>
            <div class="edge-builder">
              <input type="text" id="edge-from" maxlength="3" placeholder="From" />
              <span class="edge-arrow">‚Üî</span>
              <input type="text" id="edge-to" maxlength="3" placeholder="To" />
              <button class="btn btn-secondary btn-sm" id="add-edge-btn">Add</button>
            </div>
            <div id="alert-box" class="alert alert-error"></div>
            <div class="edge-list" id="edge-list"><span class="log-empty">No edges yet‚Ä¶</span></div>
          </div>

          <button class="btn btn-secondary btn-sm" id="preset-btn" style="width:100%;margin-bottom:10px;">
            ‚ú¶ Load Example Graph
          </button>

          <hr class="divider" />

          <div class="form-group">
            <label for="start-node">Start Node</label>
            <input type="text" id="start-node" maxlength="3" placeholder="e.g. 0" />
          </div>

          <div class="form-group">
            <label for="end-node">Goal Node <span
                style="color:var(--text-muted);font-weight:400">(optional)</span></label>
            <input type="text" id="end-node" maxlength="3" placeholder="e.g. 4" />
            <p class="input-hint">Leave empty for full traversal</p>
          </div>

          <button class="btn btn-primary" id="run-btn">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor">
              <path d="M5 3l14 9-14 9V3z" />
            </svg>
            Run BFS
          </button>

          <hr class="divider" />

          <!-- Speed -->
          <div class="speed-row">
            <label>Speed</label>
            <input type="range" id="speed-slider" min="100" max="2000" value="800" step="100" />
            <span class="speed-val" id="speed-label">0.8s</span>
          </div>

          <div class="btn-row" style="margin-top:16px;">
            <button class="btn btn-secondary btn-sm" id="pause-btn" disabled>‚è∏ Pause</button>
            <button class="btn btn-secondary btn-sm" id="reset-btn">‚Ü∫ Reset</button>
          </div>

          <!-- Legend -->
          <hr class="divider" />
          <div class="legend">
            <div class="legend-item">
              <div class="legend-dot" style="background:var(--accent);border:2px solid var(--node-border)"></div>
              Unvisited
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background:var(--yellow)"></div> Current
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background:var(--accent2)"></div> Visited
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background:var(--green)"></div> Path
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background:var(--accent3)"></div> Goal
            </div>
          </div>

        </div>
      </div>

      <!-- RIGHT: Canvas + logs -->
      <div class="canvas-panel">

        <div class="canvas-wrap">
          <canvas id="bfs-canvas" height="400"></canvas>
        </div>

        <!-- Status + visited order -->
        <div class="card" style="padding:16px 20px;">
          <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;">
            <div id="status-chip" class="status-chip chip-idle">
              <div class="dot"></div> Idle
            </div>
            <div class="controls-bar">
              <span style="font-size:0.78rem;color:var(--text-muted)">Step:</span>
              <span id="step-counter"
                style="font-family:'JetBrains Mono',monospace;font-size:0.85rem;color:var(--accent)">‚Äî</span>
            </div>
          </div>

          <div style="margin-top:14px;">
            <div
              style="font-size:0.75rem;color:var(--text-muted);font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;">
              Visited Order</div>
            <div class="visited-chips" id="visited-chips"><span class="log-empty">‚Äî</span></div>
          </div>

          <div class="path-result" id="path-result">
            <div class="path-label">üìç Shortest Path</div>
            <div class="path-value" id="path-value"></div>
          </div>
        </div>

        <!-- Log -->
        <div class="log-panel">
          <div class="log-header">
            <div class="card-title" style="margin-bottom:0">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <polyline points="4 17 10 11 4 5" />
                <line x1="12" y1="19" x2="20" y2="19" />
              </svg>
              BFS Log
            </div>
            <button class="btn btn-secondary btn-sm" id="clear-log-btn">Clear</button>
          </div>
          <div class="log-body" id="log-body">
            <div class="log-line log-info"><span>Configure your graph and press <strong>Run BFS</strong> to
                start.</span></div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>